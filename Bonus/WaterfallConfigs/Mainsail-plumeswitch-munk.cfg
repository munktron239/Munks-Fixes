// Mainsail: Kerolox or Hydrolox launcher engine
@PART[liquidEngineMainsail_v2]:NEEDS[B9PartSwitch,Waterfall,Restock,!WaterfallExtensions]:LAST[Waterfall]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = plumeSwitch
		switcherDescription = Plume
		switcherDescriptionPlural = Plumes
		affectDragCubes = false
		affectFARVoxels = false
		switchInFlight = true
		SUBTYPE
		{ 
			name = default
			title = Kerolox
			primaryColor = ResourceColorOxidizer
			secondaryColor = ResourceColorLiquidFuel
			descriptionSummary = #LOC_MunksFixes_waterfall_keroloxDesc
			descriptionDetail = #LOC_MunksFixes_waterfall_defaultKerolox
		}
		SUBTYPE
		{
			name = hydroloxMainsail
			title = Hydrolox
			primaryColor = OrangeRed
			secondaryColor = SkyBlue
			descriptionSummary = #LOC_MunksFixes_waterfall_hydroloxDesc
			descriptionDetail = #LOC_MunksFixes_waterfall_plumeHydroloxMainsail
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleWaterfallFX
				}
				DATA
				{
					CONTROLLER
					{
						name = atmosphereDepth
						linkedTo = atmosphere_density
					}
					CONTROLLER
					{
						name = throttle
						linkedTo = throttle
					}
					CONTROLLER
					{
						name = random
						linkedTo = random
						range = -1,1
					}
					TEMPLATE
					{
						name = plume
						templateName = waterfall-hydrolox-lower-4
						overrideParentTransform = thrustTransform
 						position = 0,0,0
						rotation = 0, 0, 0
						scale = 1, 1, 1
					}
				}
			}
		}
	}
}

// Mainsail: Kerolox or Hydrolox launcher engine
@PART[liquidEngineMainsail_v2]:NEEDS[B9PartSwitch,Waterfall,!Restock,!WaterfallExtensions]:LAST[Waterfall]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = plumeSwitch
		switcherDescription = Plume
		switcherDescriptionPlural = Plumes
		affectDragCubes = false
		affectFARVoxels = false
		switchInFlight = true
		SUBTYPE
		{ 
			name = default
			title = Kerolox
			primaryColor = ResourceColorOxidizer
			secondaryColor = ResourceColorLiquidFuel
			descriptionSummary = #LOC_MunksFixes_waterfall_keroloxDesc
			descriptionDetail = #LOC_MunksFixes_waterfall_defaultKerolox
		}
		SUBTYPE
		{
			name = hydroloxMainsail
			title = Hydrolox
			primaryColor = OrangeRed
			secondaryColor = SkyBlue
			descriptionSummary = #LOC_MunksFixes_waterfall_hydroloxDesc
			descriptionDetail = #LOC_MunksFixes_waterfall_plumeHydroloxMainsail
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleWaterfallFX
				}
				DATA
				{
					CONTROLLER
					{
						name = atmosphereDepth
						linkedTo = atmosphere_density
					}
					CONTROLLER
					{
						name = throttle
						linkedTo = throttle
					}
					CONTROLLER
					{
						name = random
						linkedTo = random
						range = -1,1
					}
					TEMPLATE
					{
						name = plume
						templateName = waterfall-hydrolox-lower-4
						overrideParentTransform = thrustTransform
 						position = 0,0,1.7
						rotation = 0, 0, 0
						scale = 1, 1, 1
					}
					TEMPLATE
					{
						name = exhaust1
						templateName = stock-hydrolox-generator
						overrideParentTransform = thrustTransform
						scale = 1,1,1
						rotation = 5.5,0,0
						position = 0,-0.988,1.716
					}
					TEMPLATE
					{
						name = exhaust2
						templateName = stock-hydrolox-generator
						overrideParentTransform = thrustTransform
						scale = 1,1,1
						rotation = -5.5,0,0
						position = 0,0.988,1.716
					}
				}
			}
		}
	}
}