// everyone always forgets the Snazzy 1.875m tank... so I wanted to show it some care by giving it Waterfall configs. based off of Avalanche plumes
// Works with both stock and restock!
@PART[Size1p5_Tank_05|restock-fueltank-1875-soyuz-1]:HAS[@MODULE[ModuleEnginesFX],!MODULE[ModuleWaterfallFX]]:NEEDS[Waterfall,Avalanche,ReStock]:LAST[Waterfall]
{
	@EFFECTS
	{
		@fx-separatron-running
		{
			!MODEL_MULTI_PARTICLE,* {}
		}
	}
	MODULE
	{
		name = ModuleWaterfallFX
		moduleID = snazzyTankFX
		version = FixedRampRates
		ATMOSPHEREDENSITYCONTROLLER
		{
			name = atmosphereDepth
		}
		THROTTLECONTROLLER
		{
			responseRateUp = 2200
			responseRateDown = 2200
			engineID =
			name = throttle
		}
		RANDOMNESSCONTROLLER
		{
			range = 0,0
			noiseType = perlin
			scale = 0.5
			minimum = -0.5
			speed = 10
			name = Random
			seed = 40
		}
		TEMPLATE
		{
			name = forgottenPlume
			templateName = RetroRocket
			overrideParentTransform = thrustTransform
			position = 0,0,-0.075
			rotation = 0, 0, 0
			scale = 0.175, 0.175, 0.175
		}
	}
}

@PART[Size1p5_Tank_05]:HAS[@MODULE[ModuleEngines],!MODULE[ModuleWaterfallFX]]:NEEDS[SquadExpansion/MakingHistory,Waterfall,Avalanche,!ReStock]:LAST[Waterfall]
{
	!fx_exhaustFlame_white_tiny = DELETE
	!sound_vent_medium = DELETE
	!sound_rocket_mini = DELETE
	!sound_vent_soft = DELETE
	!EFFECTS {}
	EFFECTS
	{
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_medium
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		flameout
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		fx-snazzytank-running
		{
			AUDIO
			{
				channel = Ship
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 0.01 0.4
				volume = 1.0 1.0
				pitch = 0.0 0.2
				pitch = 0.01 0.6
				pitch = 1.0 1.8
				loop = true
			}
		}
	}
	@MODULE[ModuleEngines]
	{
		@name = ModuleEnginesFX
		%runningEffectName = fx-snazzytank-running
	}
	MODULE
	{
		name = ModuleWaterfallFX
		moduleID = snazzyTankFX
		version = FixedRampRates
		ATMOSPHEREDENSITYCONTROLLER
		{
			name = atmosphereDepth
		}
		THROTTLECONTROLLER
		{
			responseRateUp = 2200
			responseRateDown = 2200
			engineID =
			name = throttle
		}
		RANDOMNESSCONTROLLER
		{
			range = 0,0
			noiseType = perlin
			scale = 0.5
			minimum = -0.5
			speed = 10
			name = Random
			seed = 40
		}
		TEMPLATE
		{
			name = forgottenPlume
			templateName = RetroRocket
			overrideParentTransform = thrustTransform
			position = 0,0,-0.13
			rotation = 0, 0, 0
			scale = 0.12, 0.12, 0.12
		}
	}
}